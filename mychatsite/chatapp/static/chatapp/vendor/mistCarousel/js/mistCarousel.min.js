!function(){var i=function(){return i=function(i,s){var t=this;t.props={activeSlide:1,autoPlayTimer:null,elem:$(i),lastMask:1,slideCount:0},t.options=$.extend({arrows:!0,autoPlay:!0,autoPlaySpeed:5e3,dots:!0,readMoreText:"Read more"},s||{}),t.autoPlay=$.proxy(t.autoPlay,t),t.nextSlide=$.proxy(t.nextSlide,t),t.stop=$.proxy(t.stop,t),t.preloadMasks(),t.init()}}();i.prototype.appendArrows=function(){var i=this,s='<div class="mistify__arrows"><a href="#" class="mistify__arrows--prev"><i class="fa fa-chevron-up" aria-hidden="true"></i></a><a href="#" class="mistify__arrows--next"><i class="fa fa-chevron-down" aria-hidden="true"></i></a></div>';i.props.elem.append(s),i.props.elem.find(".mistify__arrows--prev").on("click",function(s){s.stopPropagation(),i.prevSlide(),i.stop(),i.options.autoPlay&&i.autoPlay()}),i.props.elem.find(".mistify__arrows--next").on("click",function(s){s.stopPropagation(),i.nextSlide(),i.stop(),i.options.autoPlay&&i.autoPlay()})},i.prototype.appendMasks=function(){var i=this,s='<div class="mistify__mask-container"><div class="mistify__mask mistify__mask--active"><img src="{% static 'chatapp/images/mistCarousel-1.png' %}" alt="Mask"/></div><div class="mistify__mask"><img src="{% static 'chatapp/images/mistCarousel-2.png' %}" alt="Mask"/></div><div class="mistify__mask"><img src="{% static 'chatapp/images/mistCarousel-3.png' %}" alt="Mask"/></div><div class="mistify__mask"><img src="{% static 'chatapp/images/mistCarousel-4.png' %}" alt="Mask"/></div></div>';i.props.elem.append(s)},i.prototype.appendDots=function(){var i=this,s='<ul class="mistify__dots-container"></ul>';i.props.elem.append(s);for(var t=0;t<i.props.slideCount;t++){var e='<li class="mistify__dots"><span>'+i.props.elem.find(".mistify__slide:nth-child("+(t+1)+") .mistify__slide-timestamp").html()+"</span></li>";i.props.elem.find(".mistify__dots-container").append(e)}i.props.elem.find(".mistify__dots:nth-child(1)").addClass("mistify__dots--active"),i.props.elem.find(".mistify__dots").on("click",function(s){s.stopPropagation();var t=i.props.elem.find(".mistify__dots").index(this)+1;i.props.activeSlide=t,i.goToSlide(i.props.activeSlide),i.stop(),i.options.autoPlay&&i.autoPlay()}),i.props.elem.find(".mistify__dots-container").on("mouseover",function(){$(this).addClass("mistify__dots-container--hover")}).on("mouseout",function(){$(this).removeClass("mistify__dots-container--hover")}),i.props.elem.find(".mistify__dots").on("mouseover",function(){$(this).addClass("mistify__dots--hover")}).on("mouseout",function(){$(this).removeClass("mistify__dots--hover")})},i.prototype.appendProjectInfo=function(){var i=this,s='<ul class="mistify__info-container"></ul>';i.props.elem.append(s);for(var t=0;t<i.props.slideCount;t++){var e='<li class="mistify__info"><a class="mist-link" href="'+i.props.elem.find(".mistify__slide:nth-child("+(t+1)+") .mistify__slide-content").attr("href")+'"><p class="mistify__info-description">'+i.props.elem.find(".mistify__slide:nth-child("+(t+1)+") .mistify__slide-description").html()+'</p><p class="mistify__info-title">'+i.props.elem.find(".mistify__slide:nth-child("+(t+1)+") .mistify__slide-title").html()+'</p><span class="mistify__info-more">'+i.options.readMoreText+"</span></a></li>";i.props.elem.find(".mistify__info-container").append(e)}i.props.elem.find(".mistify__info:nth-child(1)").addClass("mistify__info--active")},i.prototype.attachClickHandler=function(){var i=this;i.props.elem.find("a").on("click",function(i){i.stopPropagation()})},i.prototype.attachKeyHandler=function(){var i=this;$(document).keydown(function(s){switch(s.which){case 37:break;case 38:i.prevSlide(),i.stop(),i.options.autoPlay&&i.autoPlay();break;case 39:break;case 40:i.nextSlide(),i.stop(),i.options.autoPlay&&i.autoPlay();break;default:return}s.preventDefault()})},i.prototype.autoPlay=function(){var i=this;i.props.autoPlayTimer&&clearInterval(i.props.autoPlayTimer),i.props.autoPlayTimer=setInterval(i.nextSlide,i.options.autoPlaySpeed)},i.prototype.goToSlide=function(i){for(var s=this,t=Math.floor(4*Math.random()+1);t==s.props.lastMask;)t=Math.floor(4*Math.random()+1);s.props.lastMask=t,s.props.elem.find(".mistify__mask--active").removeClass("mistify__mask--active"),s.props.elem.find(".mistify__mask-container .mistify__mask:nth-child("+t+")").addClass("mistify__mask--active"),s.props.elem.find(".mistify__slide--active").removeClass("mistify__slide--active"),s.props.elem.find(".mistify__slide:nth-child("+i+")").addClass("mistify__slide--active"),s.props.elem.find(".mistify__info--active").removeClass("mistify__info--active"),s.props.elem.find(".mistify__info:nth-child("+i+")").addClass("mistify__info--active"),s.props.elem.find(".mistify__dots--active").removeClass("mistify__dots--active"),s.props.elem.find(".mistify__dots:nth-child("+i+")").addClass("mistify__dots--active")},i.prototype.init=function(){var i=this;i.props.elem.addClass("mistify"),i.props.activeSlide=1,i.props.elem.find(".mistify__slide").each(function(s){var t=$(this).find(".mistify__slide-background").attr("src");$(this).css({"background-image":'url("'+t+'")'}),i.props.slideCount=s+1}),i.props.elem.find(".mistify__slide:nth-child("+i.props.activeSlide+")").addClass("mistify__slide--active"),i.appendMasks(),i.appendProjectInfo(),i.options.dots&&i.appendDots(),i.options.arrows&&i.appendArrows(),i.attachClickHandler(),i.attachKeyHandler(),i.options.autoPlay&&i.autoPlay()},i.prototype.nextSlide=function(){var i=this;i.props.activeSlide==i.props.slideCount?i.props.activeSlide=1:i.props.activeSlide++,i.props.elem.find(".mistify__arrows--next").addClass("mistify__arrows--active"),setTimeout(function(){i.props.elem.find(".mistify__arrows--active").removeClass("mistify__arrows--active")},250),i.goToSlide(i.props.activeSlide)},i.prototype.preloadMasks=function(){for(var i=["/static/chatapp/images/mistCarousel-1.png","/static/chatapp/images/mistCarousel-2.png","/static/chatapp/images/mistCarousel-3.png","/static/chatapp/images/mistCarousel-4.png"],s=0;s<i.length;s++)$("<img />").attr("src",i[s])},i.prototype.prevSlide=function(){var i=this;1==i.props.activeSlide?i.props.activeSlide=i.props.slideCount:i.props.activeSlide--,i.props.elem.find(".mistify__arrows--prev").addClass("mistify__arrows--active"),setTimeout(function(){i.props.elem.find(".mistify__arrows--active").removeClass("mistify__arrows--active")},250),i.goToSlide(i.props.activeSlide)},i.prototype.resize=function(){},i.prototype.stop=function(){var i=this;clearInterval(i.props.autoPlayTimer)},$.fn.mistify=function(s){var t,e=this,o=arguments[0],a=Array.prototype.slice.call(arguments,1);return"object"==typeof o||"undefined"==typeof o?e[0].Mistify=new i(e,o):t=e[0].Mistify[o].apply(e[0].Mistify,a),"undefined"!=typeof t?t:e}}();
